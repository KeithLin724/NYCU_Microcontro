A51 MACRO ASSEMBLER  QTION3                                                               12/14/2021 21:02:25 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN Qtion3.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE Qtion3.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

0000                   1         ORG 00H
0000 804E              2         JMP     START
000B                   3         ORG         0BH
000B 0194              4         JMP     TIMER0              ;TIMER0‰∏≠Êñ∑
001B                   5         ORG     1BH
001B 807E              6         JMP     TIMER1              ;TIMER1‰∏≠Êñ∑
0050                   7         ORG         50H
0050                   8     START: 
0050 C280              9         CLR             P0.0                        ;P2.0ÁÇ∫ÊèöËÅ≤Âô®               
0052 7900             10         MOV         R1,#0           ;R1ÂÅöÁÇ∫TABLEÂÖßÁßªÂãïcounter
0054 7A00             11         MOV         R2,#0           ;R2Ê±∫ÂÆödelayÁöÑÊôÇÈñì(‰∏äÊï∏Âà∞20)
0056 758911           12             MOV             TMOD,#11H       ;timer0 timer1 ÁöÜÊòØmode 1
0059 D2A9             13             SETB            ET0                     ;enable timer0‰∏≠Êñ∑            
005B D2AB             14             SETB            ET1                             ;enable timer1‰∏≠Êñ∑
005D D2AF             15             SETB            EA                              ;ÈñãÂïü‰∏≠Êñ∑
005F 758BB0           16             MOV             TL1,#176                ;timer1Âª∂ÈÅ≤ÊôÇÈñìÁÇ∫50ms
0062 758D3C           17             MOV             TH1,#60
0065 D28E             18             SETB            TR1                             ;timer1 ÈñãÂßãË®àÊôÇ
0067                  19     BEGIN:
0067 900086           20             MOV             DPTR,#SCALE6    ;scale6Áµ¶DPTR
006A E9               21             MOV             A,R1            
006B 93               22             MOVC            A,@A+DPTR               ;ÂèñÂæóscale6ÁöÑÂÄº(TONE)
006C FE               23             MOV             R6,A                    ;TONEÂ≠òÂÖ•R6
006D 90008D           24             MOV             DPTR,#SCALE7    ;scale7Áµ¶DPTR
0070 E9               25             MOV             A,R1
0071 93               26             MOVC            A,@A+DPTR               ;ÂèñÂæóscale7ÁöÑÂÄº(TEMPO)
0072 FF               27             MOV             R7,A                    ;TEMPOÂ≠òÂÖ•R7
0073 8F8A             28             MOV             TL0,R7                  ;R7Áµ¶time low8bits
0075 8E8C             29             MOV             TH0,R6                  ;R6Áµ¶time high8bits
0077 D28C             30             SETB            TR0                             ;timer0ÈñãÂßãË®àÊôÇÔºåÂ∞áÊâÄÊåáÂà∞Á
                             öÑÈü≥Á¨¶
                      31     ;Êí≠Âá∫
0079 09               32             INC             R1                              ;R1+1ÔºåÊ∫ñÂÇôÊí≠Êîæ‰∏ã‰∏ÄÂÄãÈü≥
007A BA14FD           33             CJNE            R2,#20,$                        ;Ê±∫ÂÆödelayÊôÇÈñì=20*50ms=1s
007D C28C             34             CLR             TR0                             ;Ê∏ÖÁ©∫
007F 7A00             35             MOV             R2,#0                   ;ÈáçË®≠delayÁöÑR2ÊåáÊ®ô
0081 B907E3           36             CJNE    R1,#7,BEGIN             ;Â¶ÇÊûúÊåáÊ®ôÁÇ∫7ÔºåË°®Á§∫Êí≠ÊîæÂÆåÂÖ®ÈÉ®ÁöÑÈü≥
0084 80CA             37             JMP     START                   ;Ë∑≥ÂõûSTARTÈáçÊñ∞Ë®≠ÂÆö
0086                  38     SCALE6:
0086 FCFC             39             DB      0FCH,0FCH
0088 FDFD             40             DB      0FDH,0FDH
008A FDFDFE           41         DB  0FDH,0FDH,0FEH  
008D                  42     SCALE7:
008D 44AC             43             DB              044H,0ACH       
008F 0A34             44             DB              00AH,034H       
0091 83C80B           45             DB              083H,0C8H,00BH          
0094                  46     TIMER0:                                          ;ÊéßÂà∂ÈüøÁöÑÈ†ªÁéá
0094 8F8A             47             MOV     TL0,R7                  ;ÈáçË®≠Èü≥Ë™øÁöÑTONEÂíåTEMPO
0096 8E8C             48             MOV     TH0,R6
0098 B2A0             49             CPL     P2.0                            ;Â∞áÊèöËÅ≤Âô®ÂèçÂêë
009A 32               50             RETI                                            ;ÂõûÂà∞‰∏≠Êñ∑Èªû‰∏ãË°å
009B                  51     TIMER1:                                                 ;ÊéßÂà∂Èüø50ms*20Ê¨°=1000ms=1s
009B 758BB0           52             MOV     TL1,#176                ;ÈáçË®≠ÊôÇÈñì50ms
009E 758D3C           53             MOV     TH1,#60
00A1 0A               54             INC             R2                              ;R2+1ÔºåÁõ¥Âà∞20ÊâçËÉΩÊúâ20*50msÁßí
00A2 32               55             RETI                                            ;ÂõûÂà∞‰∏≠Êñ∑Èªû‰∏ãË°å
                      56     end 
A51 MACRO ASSEMBLER  QTION3                                                               12/14/2021 21:02:25 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

BEGIN. . . . . . .  C ADDR   0067H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
SCALE6 . . . . . .  C ADDR   0086H   A   
SCALE7 . . . . . .  C ADDR   008DH   A   
START. . . . . . .  C ADDR   0050H   A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TIMER0 . . . . . .  C ADDR   0094H   A   
TIMER1 . . . . . .  C ADDR   009BH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
